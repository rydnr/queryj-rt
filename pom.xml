<project
  xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.acmsl.queryj</groupId>
  <artifactId>queryj</artifactId>
  <packaging>pom</packaging>
  <version>latest-SNAPSHOT</version>
  <name>QueryJ</name>
  <url>http://www.acm-sl.org/projects/queryj</url>
  <inceptionYear>2002</inceptionYear>
  <licenses>
    <license>
      <name>GPL</name>
      <url>http://www.fsf.org/licensing/licenses/gpl.html</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <organization>
    <name>ACM-SL</name>
    <url>http://www.acm-sl.org</url>
  </organization>

  <parent>
    <groupId>org.acmsl</groupId>
    <artifactId>acmsl-pom</artifactId>
    <version>latest-SNAPSHOT</version>
  </parent>

  <properties>
    <version.major>3</version.major>
    <version.minor>0</version.minor>
    <version.queryj>latest-SNAPSHOT</version.queryj>
    <!-- to ensure encoding is not platform-dependent -->
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <antlr4.visitor>true</antlr4.visitor>
    <antlr4.listener>true</antlr4.listener>
    <version.antlr4>4.3</version.antlr4>
    <version.checkthread>1.0.9</version.checkthread>
    <version.powermock>1.5.5</version.powermock>
    <version.oracle-driver>1.4</version.oracle-driver>
    <version.netty>5.0.0.Alpha1</version.netty>
  </properties>

  <modules>
    <module>queryj-core</module>
    <module>queryj-placeholders</module>
    <module>queryj-test</module>
    <module>queryj-template-packaging</module>
    <module>queryj-maven</module>
    <module>queryj-debugging</module>
    <module>queryj-template-packaging-maven-plugin</module>
    <module>queryj-templates</module>
  </modules>

  <repositories>
    <repository>
      <id>acmsl-libs-releases</id>
      <name>acmsl-libs-releases</name>
      <url>http://maven.acm-sl.org/artifactory/libs-release-local</url>
      <releases><enabled>true</enabled></releases>
      <snapshots><enabled>false</enabled></snapshots>
    </repository>
    <repository>
      <id>acmsl-ext-releases</id>
      <name>acmsl-ext-releases</name>
      <url>http://maven.acm-sl.org/artifactory/ext-release-local</url>
      <releases><enabled>true</enabled></releases>
      <snapshots><enabled>false</enabled></snapshots>
    </repository>
    <repository>
      <id>acmsl-libs-snapshots</id>
      <name>acmsl-libs-snapshots</name>
      <url>http://maven.acm-sl.org/artifactory/libs-snapshot-local</url>
      <releases><enabled>false</enabled></releases>
      <snapshots><enabled>true</enabled></snapshots>
    </repository>
    <repository>
      <id>acmsl-ext-snapshots</id>
      <name>acmsl-ext-snapshots</name>
      <url>http://maven.acm-sl.org/artifactory/ext-snapshot-local</url>
      <releases><enabled>false</enabled></releases>
      <snapshots><enabled>true</enabled></snapshots>
    </repository>
  </repositories>
  <pluginRepositories>
    <pluginRepository>
      <id>acmsl-plugins-releases</id>
      <name>acmsl-plugins-releases</name>
      <url>http://maven.acm-sl.org/artifactory/plugins-release-local</url>
      <releases><enabled>true</enabled></releases>
      <snapshots><enabled>false</enabled></snapshots>
    </pluginRepository>
    <pluginRepository>
      <id>acmsl-plugins-snapshots</id>
      <name>acmsl-plugins-snapshots</name>
      <url>http://maven.acm-sl.org/artifactory/plugins-snapshot-local</url>
      <releases><enabled>false</enabled></releases>
      <snapshots><enabled>true</enabled></snapshots>
    </pluginRepository>
  </pluginRepositories>

  <distributionManagement>
    <repository>
      <id>acmsl-plugins-releases</id>
      <name>acmsl-plugin-releases</name>
      <url>http://maven.acm-sl.org/artifactory/plugins-release-local</url>
    </repository>
    <snapshotRepository>
      <id>acmsl-plugins-snapshots</id>
      <name>acmsl-plugin-snapshots</name>
      <url>http://maven.acm-sl.org/artifactory/plugins-snapshot-local</url>
    </snapshotRepository>
  </distributionManagement>

  <scm>                                                                                     
    <connection>scm:git:http://github.com/rydnr/queryj.git</connection> 
    <developerConnection>scm:git:http://github.com/rydnr/queryj.git</developerConnection> 
    <url>scm:git:http://github.com/rydnr/queryj.git</url> 
    <tag>HEAD</tag>                                                                         
  </scm>                                                                                    
                                                                                            
  <issueManagement>                                                                         
    <system>github</system>                                                                   
    <url>http://github.com/rydnr/queryj.git/</url>                                                                 
  </issueManagement>                                                                        
                                                                                            
  <ciManagement>                                                                            
    <system>Hudson</system>                                                                 
    <url>http://jenkins.acm-sl.org/job/queryj</url>                                   
    <notifiers>                                                                             
      <notifier>                                                                            
        <type>mail</type>                                                                   
        <sendOnError>true</sendOnError>                                                     
        <sendOnFailure>true</sendOnFailure>                                                 
        <sendOnSuccess>true</sendOnSuccess>                                                 
        <sendOnWarning>true</sendOnWarning>                                                 
        <configuration>                                                                     
          <address>jenkins@acm-sl.org</address>                                       
        </configuration>                                                                    
      </notifier>                                                                           
    </notifiers>                                                                            
  </ciManagement>

  <build>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.acmsl.queryj</groupId>
          <artifactId>queryj-template-packaging-maven-plugin</artifactId>
          <version>${version.queryj}</version>
          <dependencies>
            <dependency>
              <groupId>com.oracle</groupId>
              <artifactId>oracle-driver</artifactId>
              <version>${version.oracle-driver}</version>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>3.1</version>
          <configuration>
            <source>1.8</source>
            <target>1.8</target>
            <compilerArgument>-Xlint:all</compilerArgument>
            <compilerArgument>-Xdoclint:all</compilerArgument>
            <compilerArgument>-Xlint:unchecked</compilerArgument>
            <compilerArgument>-Xlint:deprecation</compilerArgument>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-plugin-plugin</artifactId>
          <version>2.6</version>
        </plugin>
        <plugin>
          <groupId>org.antlr</groupId>
          <artifactId>antlr4-maven-plugin</artifactId>
          <version>${version.antlr4}</version>
          <executions>
            <execution>
              <phase>generate-sources</phase>
              <goals>
                <goal>antlr4</goal>
              </goals>
            </execution>
          </executions>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-antrun-plugin</artifactId>
          <executions>
            <execution>
              <phase>test</phase>
              <configuration>
                <tasks>
                  <taskdef name="checkthread" classname="org.checkthread.anttask.CheckThreadTask" /> 
                  <checkthread 
                    targetpath="${project.build.outputDirectory}/" 
                    classpath="${project.build.outputDirectory}/" 
                    verbose="true"/> 
                </tasks>
                <sourceRoot>${basedir}/src/main/java</sourceRoot>
              </configuration>
              <goals>
                <goal>run</goal>
              </goals>
            </execution>
          </executions>
          <dependencies>
            <dependency>
              <groupId>org.checkthread</groupId>
              <artifactId>checkthread-analyzer</artifactId>
              <version>${version.checkthread}</version>
              <scope>compile</scope>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-surefire-plugin</artifactId>
          <version>2.12.2</version>
          <configuration>
            <useFile>false</useFile>
            <!--parallel>classes</parallel>
            <threadCount>2</threadCount-->
            <argLine>-Dqueryjroot=${queryjroot}</argLine>
          </configuration>
        </plugin>

        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>build-helper-maven-plugin</artifactId>
          <version>1.7</version>
          <executions>
            <execution>
              <phase>generate-sources</phase>
              <goals>
                <goal>add-source</goal>
              </goals>
              <configuration>
                <sources>
                  <source>target/generated-sources/antlr4</source>
                </sources>
              </configuration>
            </execution>
          </executions>
        </plugin>

        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>aspectj-maven-plugin</artifactId>
          <version>1.6</version>
          <configuration>
            <Xlint>warning</Xlint>
            <XaddSerialVersionUID>true</XaddSerialVersionUID>
            <encoding>UTF-8</encoding>
            <complianceLevel>1.8</complianceLevel>
            <source>1.8</source>
            <target>1.8</target>
            <warn>constructorName,packageDefaultMethod,deprecation,maskedCatchBlocks,unusedLocals,unusedArguments,unusedImports,all</warn>
          </configuration>
          <dependencies>
            <dependency>
              <groupId>org.aspectj</groupId>
              <artifactId>aspectjrt</artifactId>
              <version>1.8.0</version>
            </dependency>
            <dependency>
              <groupId>org.aspectj</groupId>
              <artifactId>aspectjtools</artifactId>
              <version>1.8.0</version>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-site-plugin</artifactId>
          <version>3.3</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-clean-plugin</artifactId>
          <version>2.5</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-deploy-plugin</artifactId>
          <version>2.8.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-install-plugin</artifactId>
          <version>2.5.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jar-plugin</artifactId>
          <version>2.4</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-resources-plugin</artifactId>
          <version>2.6</version>
        </plugin>
	<plugin>
	  <groupId>org.codehaus.mojo</groupId>
	  <artifactId>findbugs-maven-plugin</artifactId>
	  <version>2.5.4</version>
          <configuration>
            <xmlOutput>true</xmlOutput>
            <!-- Optional directory to put findbugs xdoc xml report -->
            <xmlOutputDirectory>target/site</xmlOutputDirectory>
          </configuration>
	</plugin>
	<plugin>
	  <groupId>org.apache.maven.plugins</groupId>
	  <artifactId>maven-pmd-plugin</artifactId>
	  <version>3.1</version>
	  <configuration>
	    <linkXref>true</linkXref>
	    <sourceEncoding>utf-8</sourceEncoding>
	    <targetJdk>1.8</targetJdk>
	  </configuration>
	</plugin>
      </plugins>
    </pluginManagement>

    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
          <useFile>false</useFile>
        </configuration>
      </plugin>
    </plugins>
  </build>

</project>
